<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Sri Lanka Stay & Explore</title>
    <meta name="description" content="Discover the best accommodations and experiences in Sri Lanka with our curated selection of hotels, villas, and local adventures.">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/ranga_bandara_logo_v2.png">
    <!-- Additional favicon formats for better browser compatibility -->
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <!-- Leaflet CSS for maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    
    <!-- JavaScript -->
    <script src="js/translations.js"></script>
    <script src="js/main.js"></script>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=YOUR-GA-ID"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'YOUR-GA-ID');
    </script>

    <!-- Cloudflare Web Analytics -->
    <script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "YOUR-TOKEN"}'></script>

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
</head>
<body>
    <header>
        <nav class="main-nav">
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#transport">Transport</a></li>
                <li><a href="#explore">Explore</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <div class="logo">
                <a href="#home">
                    <img src="./images/ranga_bandara_logo_v2.png" alt="Ranga Bandara Logo" id="site-logo">
                </a>
            </div>
        </nav>
    </header>

    <main>
        <!-- Hero Section -->
        <section id="home" class="hero">
            <div class="hero-content">
                <h2 class="fade-in" data-i18n="hero-title">Best Travel - Best Choice</h2>
                <p class="fade-in" data-i18n="hero-subtitle">Your premium travel experience in Sri Lanka</p>
                <div class="hero-buttons">
                    <a href="#transport" class="btn fade-in" data-i18n="book-transport">Book Transport</a>
                    <a href="#explore" class="btn-secondary fade-in" data-i18n="explore-lanka">Explore Sri Lanka</a>
                </div>
            </div>
        </section>

        <!-- Transport Section -->
        <section id="transport" class="section">
            <div class="container">
                <h2 class="section-title" data-i18n="transport-services">Transport Services</h2>
                <div class="transport-booking-grid">
                    <!-- 左侧：服务展示 -->
                    <div class="transport-info">
                        <div class="transport-card">
                            <img src="images/Car4.jpg" alt="Comfortable Vehicle">
                            <h3 data-i18n="safe-comfortable">Safe & Comfortable Vehicle</h3>
                            <p data-i18n="vehicle-desc">Clean and well-maintained vehicle ensuring a comfortable journey in Sri Lanka</p>
                            <ul class="vehicle-features">
                                <li><i class="fas fa-users"></i> <span data-i18n="passengers">Up to 4 passengers</span></li>
                                <li><i class="fas fa-suitcase"></i> <span data-i18n="luggage">Large luggage space</span></li>
                                <li><i class="fas fa-snowflake"></i> <span data-i18n="ac">Air conditioning</span></li>
                                <li><i class="fas fa-shield-alt"></i> <span data-i18n="safety">Safety features</span></li>
                            </ul>
                        </div>
                        
                        <div class="service-features">
                            <div class="feature-card">
                                <i class="fas fa-car"></i>
                                <h3 data-i18n="quality-vehicle">Quality Vehicle</h3>
                                <p data-i18n="quality-desc">Well-maintained vehicle ensuring your comfort and safety throughout the journey</p>
                            </div>
                            <div class="feature-card">
                                <i class="fas fa-id-card"></i>
                                <h3 data-i18n="expert-driver">Local Expert Driver</h3>
                                <p data-i18n="driver-desc">Professional English-speaking driver with extensive local knowledge</p>
                            </div>
                            <div class="feature-card">
                                <i class="fas fa-shield-alt"></i>
                                <h3 data-i18n="protection">Complete Protection</h3>
                                <p data-i18n="protection-desc">24/7 accompaniment and security throughout your journey</p>
                            </div>
                            <div class="feature-card">
                                <i class="fas fa-map-marked-alt"></i>
                                <h3 data-i18n="insider">Insider Knowledge</h3>
                                <p data-i18n="insider-desc">Access to hidden gems and authentic local experiences</p>
                            </div>
                        </div>
                    </div>

                    <!-- 右侧：预订表单 -->
                    <div class="booking-container">
                        <h2 data-i18n="book-your-journey">Book Your Journey</h2>
                        <p data-i18n="deposit-required">30% deposit required at time of booking</p>
                        
                        <div class="booking-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label data-i18n="service-type">Service Type</label>
                                    <select id="serviceType" data-i18n-placeholder="select-service">
                                        <option value="" data-i18n="select-service">Select service</option>
                                        <option value="airport">Airport Transfer</option>
                                        <option value="city">City Tour</option>
                                        <option value="custom">Custom Journey</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label data-i18n="date">Date</label>
                                    <input type="date" id="journeyDate">
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label data-i18n="time">Time</label>
                                    <input type="time" id="journeyTime">
                                </div>
                                <div class="form-group">
                                    <label data-i18n="passengers">Passengers</label>
                                    <select id="passengerCount">
                                        <option value="1">1 Person</option>
                                        <option value="2">2 People</option>
                                        <option value="3">3 People</option>
                                        <option value="4+">4+ People</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group full-width">
                                    <label data-i18n="pickup-location">Pickup Location</label>
                                    <div class="location-input-container" style="display: flex; gap: 10px; margin-bottom: 10px;">
                                        <input type="text" id="pickupLocation" class="map-input" data-i18n-placeholder="enter-pickup" placeholder="Enter pickup location" style="flex: 1;">
                                        <button class="map-select-btn" id="pickupMapBtn" style="background-color: #4CAF50; color: white; border: none; padding: 10px 15px; cursor: pointer; border-radius: 4px; font-weight: bold;">
                                            <i class="fas fa-map-marker-alt"></i> Select on Map
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group full-width">
                                    <label data-i18n="destination">Destination</label>
                                    <div class="location-input-container" style="display: flex; gap: 10px; margin-bottom: 10px;">
                                        <input type="text" id="destinationLocation" class="map-input" data-i18n-placeholder="enter-destination" placeholder="Enter destination" style="flex: 1;">
                                        <button class="map-select-btn" id="destinationMapBtn" style="background-color: #4CAF50; color: white; border: none; padding: 10px 15px; cursor: pointer; border-radius: 4px; font-weight: bold;">
                                            <i class="fas fa-map-marker-alt"></i> Select on Map
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group full-width">
                                    <label data-i18n="special-requirements">Special Requirements</label>
                                    <textarea id="specialRequirements" data-i18n-placeholder="any-requirements" placeholder="Any special requirements?"></textarea>
                                </div>
                            </div>
                            
                            <div class="form-buttons">
                                <button type="button" class="btn secondary" data-i18n="get-quote">Get Quote</button>
                                <button type="button" class="btn primary" data-i18n="book-now">Book Now</button>
                            </div>
                            <div class="price-estimate"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Explore Section -->
        <section id="explore" class="section">
            <div class="container">
                <h2 class="section-title">Discover Sri Lanka</h2>
                <p class="section-subtitle">Explore the beauty and diversity of this tropical paradise</p>
                
                <!-- Gallery Filter Buttons -->
                <div class="gallery-filter">
                    <button class="gallery-filter-btn" data-filter="scenery">Scenery</button>
                    <button class="gallery-filter-btn active" data-filter="wildlife">Wildlife</button>
                    <button class="gallery-filter-btn" data-filter="culture">Culture</button>
                    <button class="gallery-filter-btn" data-filter="food">Food</button>
                    <button class="gallery-filter-btn" data-filter="beach">Beach</button>
                </div>
                
                <!-- Modern Gallery Layout -->
                <div class="modern-gallery-container">
                    <div class="featured-image-container">
                        <div class="featured-image">
                            <!-- Featured image will be displayed here -->
                        </div>
                        <div class="featured-caption">
                            <h3 class="featured-title"></h3>
                            <p class="featured-desc"></p>
                        </div>
                    </div>
                    
                    <div class="gallery-thumbnails">
                        <!-- Thumbnails will be generated here -->
                    </div>
                    
                    <!-- Gallery Navigation -->
                    <div class="gallery-navigation">
                        <button class="nav-btn prev-category">
                            <i class="fas fa-chevron-left"></i>
                            <span>Previous Category</span>
                        </button>
                        <div class="category-indicator">
                            <span class="current-category">Wildlife</span>
                        </div>
                        <button class="nav-btn next-category">
                            <span>Next Category</span>
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Hidden Original Gallery (for compatibility with admin) -->
                <div class="gallery-grid" style="display: none;">
                    <div class="gallery-item" data-category="scenery">
                        <img src="images/nine-arch-bridge.jpg" alt="Nine Arch Bridge">
                        <div class="gallery-item-info">
                            <h3 class="gallery-item-title">Nine Arch Bridge</h3>
                            <p class="gallery-item-desc">Iconic railway bridge in Ella, surrounded by lush tea plantations</p>
                        </div>
                    </div>
                    
                    <div class="gallery-item" data-category="scenery">
                        <img src="images/temple-tooth.jpg" alt="Temple of the Sacred Tooth Relic">
                        <div class="gallery-item-info">
                            <h3 class="gallery-item-title">Temple of the Sacred Tooth</h3>
                            <p class="gallery-item-desc">Ancient Buddhist temple in Kandy housing Buddha's sacred tooth relic</p>
                        </div>
                    </div>
                    
                    <div class="gallery-item" data-category="scenery">
                        <img src="images/unawatuna-beach.jpg" alt="Unawatuna Beach">
                        <div class="gallery-item-info">
                            <h3 class="gallery-item-title">Unawatuna Beach</h3>
                            <p class="gallery-item-desc">Pristine golden beaches with crystal clear waters</p>
                        </div>
                    </div>
                    
                    <div class="gallery-item" data-category="wildlife">
                        <img src="images/yala-leopard.jpg" alt="Yala Leopard">
                        <div class="gallery-item-info">
                            <h3 class="gallery-item-title">Yala National Park</h3>
                            <p class="gallery-item-desc">Home to the highest density of leopards in the world</p>
                        </div>
                    </div>
                    
                    <div class="gallery-item" data-category="scenery">
                        <img src="images/sri-lankan-food.jpg" alt="Sri Lankan Cuisine">
                        <div class="gallery-item-info">
                            <h3 class="gallery-item-title">Local Cuisine</h3>
                            <p class="gallery-item-desc">Discover the rich flavors of authentic Sri Lankan dishes</p>
                        </div>
                    </div>
                    
                    <div class="gallery-item" data-category="scenery">
                        <img src="images/sigiriya.jpg" alt="Sigiriya Rock Fortress">
                        <div class="gallery-item-info">
                            <h3 class="gallery-item-title">Sigiriya Rock Fortress</h3>
                            <p class="gallery-item-desc">Ancient palace and fortress complex with stunning views</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section id="testimonials" class="section">
            <div class="container">
                <h2 class="section-title">What Our Clients Say</h2>
                <div class="testimonials-grid">
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <i class="fas fa-quote-left"></i>
                            <p>Excellent service! The driver was very professional and knowledgeable. Made our trip in Sri Lanka unforgettable.</p>
                        </div>
                        <div class="testimonial-author">
                            <img src="images/avatar1.jpg" alt="Client">
                            <div class="author-info">
                                <h4>Sarah Johnson</h4>
                                <p>from United Kingdom</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <i class="fas fa-quote-left"></i>
                            <p>Very comfortable vehicle and reliable service. The driver was punctual and friendly. Highly recommended!</p>
                        </div>
                        <div class="testimonial-author">
                            <img src="images/avatar2.jpg" alt="Client">
                            <div class="author-info">
                                <h4>Michael Chen</h4>
                                <p>from China</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <i class="fas fa-quote-left"></i>
                            <p>Great experience! The driver knew all the best spots and helped us discover the real Sri Lanka.</p>
                        </div>
                        <div class="testimonial-author">
                            <img src="images/avatar3.jpg" alt="Client">
                            <div class="author-info">
                                <h4>Anna Schmidt</h4>
                                <p>from Germany</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Rooms Section -->
        <section id="rooms" class="section">
            <div class="container">
                <h2 class="section-title">Luxurious Accommodations</h2>
                <div class="rooms-grid">
                    <div class="room-card">
                        <div class="room-image">
                            <!-- 图片通过 CSS background-image 设置 -->
                        </div>
                        <h3>Ocean View Suite</h3>
                        <p>Wake up to breathtaking views of the Indian Ocean</p>
                        <div class="room-details">
                            <span><i class="fas fa-bed"></i> King Bed</span>
                            <span><i class="fas fa-ruler-combined"></i> 55 m²</span>
                            <span><i class="fas fa-wifi"></i> Free WiFi</span>
                        </div>
                        <a href="#" class="btn-secondary">From $250/night</a>
                    </div>
                    <div class="room-card">
                        <div class="room-image">
                            <!-- 图片通过 CSS background-image 设置 -->
                        </div>
                        <h3>Tropical Garden Suite</h3>
                        <p>Immerse yourself in lush tropical gardens</p>
                        <div class="room-details">
                            <span><i class="fas fa-bed"></i> Queen Bed</span>
                            <span><i class="fas fa-ruler-combined"></i> 45 m²</span>
                            <span><i class="fas fa-wifi"></i> Free WiFi</span>
                        </div>
                        <a href="#" class="btn-secondary">From $180/night</a>
                    </div>
                    <div class="room-card">
                        <div class="room-image">
                            <!-- 图片通过 CSS background-image 设置 -->
                        </div>
                        <h3>Private Pool Villa</h3>
                        <p>Ultimate luxury with your own infinity pool</p>
                        <div class="room-details">
                            <span><i class="fas fa-bed"></i> King Bed</span>
                            <span><i class="fas fa-ruler-combined"></i> 120 m²</span>
                            <span><i class="fas fa-wifi"></i> Free WiFi</span>
                        </div>
                        <a href="#" class="btn-secondary">From $450/night</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="section">
            <div class="container">
                <h2 class="section-title">Contact Us</h2>
                <div class="contact-info">
                    <div class="contact-details">
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <p>+94 XX XXX XXXX</p>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <p>info@srilankastay.com</p>
                        </div>
                        <div class="contact-item">
                            <i class="fab fa-whatsapp"></i>
                            <p>WhatsApp: +94 XX XXX XXXX</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 在 Contact Section 后面添加 -->
        <div id="feedbackModal" class="modal">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <h3>Share Your Experience</h3>
                <form id="feedbackForm">
                    <div class="form-group">
                        <label>Name</label>
                        <input type="text" id="feedbackName" required>
                    </div>
                    <div class="form-group">
                        <label>Country</label>
                        <input type="text" id="feedbackCountry" required>
                    </div>
                    <div class="form-group">
                        <label>Rating</label>
                        <div class="rating">
                            <input type="radio" name="rating" value="5" id="star5"><label for="star5">★</label>
                            <input type="radio" name="rating" value="4" id="star4"><label for="star4">★</label>
                            <input type="radio" name="rating" value="3" id="star3"><label for="star3">★</label>
                            <input type="radio" name="rating" value="2" id="star2"><label for="star2">★</label>
                            <input type="radio" name="rating" value="1" id="star1"><label for="star1">★</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Your Feedback</label>
                        <textarea id="feedbackText" rows="4" required></textarea>
                    </div>
                    <button type="submit" class="btn">Submit Feedback</button>
                </form>
            </div>
        </div>

        <!-- 添加反馈按钮 -->
        <button id="showFeedback" class="feedback-btn">
            <i class="fas fa-comment-alt"></i>
            <span>Give Feedback</span>
        </button>
    </main>

    <!-- AI Assistant -->
    <div id="ai-assistant" class="ai-assistant collapsed">
        <div class="ai-header">
            <span class="ai-title">
                <i class="fas fa-robot"></i>
                <span>Travel Assistant</span>
            </span>
            <button id="toggleAI" class="toggle-ai">
                <i class="fas fa-chevron-down"></i>
            </button>
        </div>
        <div class="ai-content">
            <div id="chatMessages" class="chat-messages">
                <!-- Default welcome message will be added by JS -->
            </div>
            <div class="chat-input">
                <textarea id="userInput" 
                          placeholder="Ask me anything about Sri Lanka..." 
                          rows="1"
                          maxlength="500"></textarea>
                <button id="sendMessage" class="send-button">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
            <div id="aiStatus" class="ai-status">Connecting to AI...</div>
        </div>
    </div>

    <!-- 悬浮按钮 -->
    <button id="showAI" class="show-ai-btn">
        <i class="fas fa-robot"></i>
        <span>Need Help?</span>
    </button>

    <footer>
        <div class="footer-content">
            <div class="footer-info">
                <h3>Sri Lanka Stay & Explore</h3>
                <p data-i18n="slogan">Best Travel - Best Choice</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Map modal for selecting locations -->
    <div id="mapModal" class="map-modal">
        <div class="map-modal-content">
            <div class="map-modal-header">
                <h3 id="mapModalTitle">Select Pickup Location</h3>
                <button id="closeMapModal" class="close-map-btn">&times;</button>
            </div>
            <div class="map-modal-body">
                <div class="map-search-container">
                    <input type="text" id="mapSearchInput" placeholder="Search for a location in Sri Lanka">
                    <button id="mapSearchBtn"><i class="fas fa-search"></i></button>
                </div>
                <div id="modalMap" style="height: 400px; width: 100%; display: block;"></div>
                <p style="margin: 0 0 10px; font-size: 14px; color: #666;">
                    <i class="fas fa-info-circle"></i> Click on the map to select a location or use the search box above to find a specific place in Sri Lanka.
                </p>
            </div>
            <div class="map-modal-footer">
                <button id="confirmLocationBtn" class="confirm-location-btn">
                    <i class="fas fa-check"></i> Confirm Location
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/script.js"></script>
    <script src="js/ai-assistant.js"></script>
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <!-- Custom Map JS -->
    <script src="js/map.js"></script>
    <!-- Force Leaflet Load -->
    <script>
        // Force check for Leaflet loading
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Checking Leaflet status:', typeof L !== 'undefined' ? 'Loaded' : 'Not loaded');
            
            // If Leaflet is not loaded, try to load it again
            if (typeof L === 'undefined') {
                console.log('Attempting to load Leaflet again');
                var script = document.createElement('script');
                script.src = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.js';
                script.integrity = 'sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=';
                script.crossOrigin = '';
                
                script.onload = function() {
                    console.log('Leaflet loaded successfully');
                    // Wait a moment, then try to initialize the map
                    setTimeout(function() {
                        if (typeof initMap === 'function') {
                            console.log('Attempting to initialize map after Leaflet load');
                            initMap();
                        }
                    }, 500);
                };
                
                document.head.appendChild(script);
            }
        });
    </script>
    <!-- AOS Animations -->
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
        AOS.init({
            duration: 800,
            offset: 120,
            once: true
        });
    </script>
</body>
</html> 